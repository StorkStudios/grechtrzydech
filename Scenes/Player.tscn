[gd_scene load_steps=7 format=3 uid="uid://durub8p1hj84q"]

[ext_resource type="Script" path="res://Scripts/player.gd" id="1_ie06p"]
[ext_resource type="PackedScene" uid="uid://d7hrppljxwtw" path="res://Scenes/PlayerHand.tscn" id="2_2ywn3"]
[ext_resource type="PackedScene" uid="uid://cop5c8x0aitxj" path="res://Scenes/PlayerInteracter.tscn" id="3_7s13a"]
[ext_resource type="PackedScene" uid="uid://bm4t7l586qjyc" path="res://Scenes/dead_hand.tscn" id="4_24fce"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_xy4xi"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_fvn77"]

[node name="Player" type="Node3D" groups=["Players"]]

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
floor_stop_on_slope = false
floor_snap_length = 0.01
script = ExtResource("1_ie06p")
move_speed = 4.25
gravity = -16.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
transform = Transform3D(0.5, 0, 0, 0, 1, 0, 0, 0, 0.5, 0, 0, 0)
shape = SubResource("CapsuleShape3D_xy4xi")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
mesh = SubResource("CapsuleMesh_fvn77")

[node name="Camera3D" type="Camera3D" parent="CharacterBody3D"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0.703267, 0)
current = true

[node name="PlayerInteracter" parent="CharacterBody3D/Camera3D" node_paths=PackedStringArray("player_hand", "audioStreamPlayer") instance=ExtResource("3_7s13a")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
target_position = Vector3(0, 0, 3)
player_hand = NodePath("../PlayerHand")
audioStreamPlayer = NodePath("InteractorStreamPlayer")

[node name="InteractorStreamPlayer" type="AudioStreamPlayer3D" parent="CharacterBody3D/Camera3D/PlayerInteracter"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.703267, 0)

[node name="PlayerHand" parent="CharacterBody3D/Camera3D" instance=ExtResource("2_2ywn3")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0.366225, -0.163733, -0.58801)

[node name="OmniLight3D" type="OmniLight3D" parent="CharacterBody3D/Camera3D"]
distance_fade_enabled = true
distance_fade_begin = 10.0
distance_fade_length = 30.0
omni_range = 13.0

[node name="DeadHand" parent="CharacterBody3D/Camera3D" instance=ExtResource("4_24fce")]
transform = Transform3D(-1, -5.01924e-08, 7.15784e-08, 0, 0.818761, 0.574134, -8.74228e-08, 0.574134, -0.818761, 0.385905, -0.325074, -1.0842)

[node name="Skeleton3D" parent="CharacterBody3D/Camera3D/DeadHand/RightkeletonHand" index="0"]
bones/0/position = Vector3(2.17259, -0.236357, -1.03804)
bones/0/rotation = Quaternion(0.932155, -0.272994, -0.208903, -0.113669)
bones/1/rotation = Quaternion(-6.31728e-08, 4.95566e-09, 0.0370663, 0.999313)
bones/2/rotation = Quaternion(0.0738022, -0.0343743, 0.0411857, 0.995829)
bones/3/rotation = Quaternion(0.419959, -0.0920981, -0.190856, 0.882455)
bones/4/rotation = Quaternion(0.877505, 0.10456, 0.0748643, 0.462003)
bones/5/rotation = Quaternion(0.512496, 0.0263577, 0.0427012, 0.857222)
bones/6/rotation = Quaternion(0.0819909, -0.0139223, 0.0550302, 0.995015)
bones/7/rotation = Quaternion(0.423799, -0.0608599, -0.0837155, 0.899824)
bones/8/rotation = Quaternion(0.873142, 0.0681577, 0.063781, 0.478445)
bones/9/rotation = Quaternion(0.230958, 0.0303552, 0.113231, 0.965876)
bones/10/rotation = Quaternion(0.0826585, -0.00281074, 0.0104864, 0.996519)
bones/11/rotation = Quaternion(0.422813, -0.0337359, 0.00806183, 0.905553)
bones/12/rotation = Quaternion(0.865144, 0.0578933, 0.0692669, 0.493332)
bones/13/rotation = Quaternion(0.486664, -0.166807, -0.345984, 0.78462)
bones/14/rotation = Quaternion(0.0767069, 0.0291057, -0.0415744, 0.995761)
bones/15/rotation = Quaternion(0.420344, -0.0172458, 0.0633163, 0.904989)
bones/16/rotation = Quaternion(0.807872, -0.137099, 0.12391, 0.559637)
bones/17/rotation = Quaternion(0.423037, -0.138406, -0.349431, 0.824489)
bones/18/rotation = Quaternion(0.348075, -0.474568, -0.376549, 0.71543)
bones/19/rotation = Quaternion(0.776258, 0.164103, 0.131669, 0.59427)
bones/20/rotation = Quaternion(0.0471759, 0.03975, -0.071526, 0.995529)
bones/21/rotation = Quaternion(0.0390018, 0.0477961, -0.00187649, 0.998094)
bones/22/position = Vector3(-0.313325, 0.526419, -0.57153)
bones/22/rotation = Quaternion(0.931381, 0.0497329, 0.33267, 0.139238)
bones/23/rotation = Quaternion(-0.182807, -0.00678067, -0.185702, 0.965428)
bones/24/rotation = Quaternion(0.211013, 0.438665, -0.0671664, 0.870939)
bones/25/rotation = Quaternion(0.587697, 0.143072, 0.188361, 0.773733)
bones/26/rotation = Quaternion(0.688903, -0.0183208, -0.0192636, 0.724366)
bones/27/rotation = Quaternion(0.65673, -0.0526567, -0.0601256, 0.749878)
bones/27/scale = Vector3(1, 1, 1)
bones/28/position = Vector3(9.65618e-10, 0.0678551, 4.87933e-09)
bones/29/rotation = Quaternion(0.600146, 0.0753772, 0.0992379, 0.790124)
bones/30/rotation = Quaternion(0.689006, -0.0139553, -0.0146735, 0.724473)
bones/31/rotation = Quaternion(0.658812, -0.00577338, -0.00659225, 0.752256)
bones/32/rotation = Quaternion(0.495867, -0.0525512, -0.0913508, 0.86198)
bones/33/rotation = Quaternion(0.604768, 0.0105793, 0.0139283, 0.79621)
bones/34/rotation = Quaternion(0.688725, 0.0241225, 0.0253645, 0.724178)
bones/35/rotation = Quaternion(0.65863, -0.0165622, -0.0189119, 0.752047)
bones/36/rotation = Quaternion(0.498565, 0.00888262, 0.0154426, 0.866669)
bones/37/rotation = Quaternion(0.604565, -0.018915, -0.0249027, 0.795942)
bones/38/rotation = Quaternion(0.689119, -0.00620814, -0.00652724, 0.724592)
bones/39/rotation = Quaternion(0.656485, 0.0556339, 0.0635243, 0.749598)
bones/40/rotation = Quaternion(0.498642, 0.00128444, 0.00223298, 0.866804)
bones/41/rotation = Quaternion(0.574601, -0.359131, -0.727006, 0.111003)
bones/42/rotation = Quaternion(-3.79723e-08, -8.96259e-09, 0.0783844, 0.996923)
bones/43/rotation = Quaternion(-0.521916, 0.852997, -1.14868e-07, 6.52633e-08)
bones/44/rotation = Quaternion(0.604768, 0.0105792, 0.0139283, 0.79621)

[node name="Scythe50" parent="CharacterBody3D/Camera3D/DeadHand/RightkeletonHand/Skeleton3D" index="0"]
transform = Transform3D(0.872192, -0.488639, -0.0226556, 0.317657, 0.530562, 0.785874, -0.371989, -0.69263, 0.617971, -0.153331, -0.329321, 0.057911)

[node name="AudioListener3D" type="AudioListener3D" parent="."]

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]

[connection signal="walking_state_changed" from="CharacterBody3D" to="CharacterBody3D/Camera3D/DeadHand/AnimationPlayer" method="_on_player_walk_state_changed"]
[connection signal="killed_enemy" from="CharacterBody3D/Camera3D/PlayerInteracter" to="CharacterBody3D/Camera3D/DeadHand/AnimationPlayer" method="_on_player_interacter_killed_enemy"]
[connection signal="animation_finished" from="CharacterBody3D/Camera3D/DeadHand/AnimationPlayer" to="CharacterBody3D/Camera3D/DeadHand/AnimationPlayer" method="_on_animation_finished"]

[editable path="CharacterBody3D/Camera3D/DeadHand"]
