[gd_resource type="Resource" load_steps=13 format=3 uid="uid://frvaflsj4e3r"]

[ext_resource type="Resource" uid="uid://bpb8151vr3qb5" path="res://Maile/mail1.tres" id="1_41irw"]
[ext_resource type="Resource" uid="uid://bybdf1t4sgeei" path="res://Maile/mail2.tres" id="2_xfvgf"]
[ext_resource type="Resource" uid="uid://bnxk6dsdn2q6l" path="res://Maile/mail3.tres" id="3_scu30"]
[ext_resource type="Resource" uid="uid://bi0qgbspkqyfx" path="res://Maile/mail4.tres" id="4_h1v7o"]
[ext_resource type="Resource" uid="uid://c4bhk0md37pxd" path="res://Maile/mail5.tres" id="5_anr3s"]
[ext_resource type="Resource" uid="uid://d3na6k3jhe0n8" path="res://Maile/mail6.tres" id="6_psyf0"]
[ext_resource type="Resource" uid="uid://cke2x0vn7g4xc" path="res://Maile/mail7.tres" id="7_qrwqh"]
[ext_resource type="Resource" uid="uid://hvxthwi3v2mw" path="res://Maile/mail8.tres" id="8_wbxs4"]
[ext_resource type="Resource" uid="uid://bxrrabotasgte" path="res://Maile/mail9.tres" id="9_xcgfv"]
[ext_resource type="Resource" uid="uid://dohsw8rqhrl33" path="res://Maile/mail10.tres" id="10_lvrcf"]
[ext_resource type="Resource" uid="uid://cyaoe45g1pu8j" path="res://Maile/mail11.tres" id="11_6tfyo"]

[sub_resource type="GDScript" id="GDScript_ied0f"]
script/source = "var counter: int = 0;

@export var mail_resources: Array[Resource];

var mails: Array[Resource] = [];

func on_mail_box_opened():
	if (counter == 1):
		mails.append(mail_resources[0]);
		mails.append(mail_resources.slice(2).pick_random());
	if (counter == 2):
		mails.append(mail_resources[1]);
		mails.append(mail_resources.filter(func(x): mails.find(x) > 0).pick_random());
	else:
		var mails_left := mail_resources.filter(func(x): mails.find(x) > 0);
		if (mails_left.size() > 0):
			mails.append(mails_left.pick_random());
	
	counter += 1;
"

[resource]
script = SubResource("GDScript_ied0f")
mail_resources = Array[Resource]([ExtResource("1_41irw"), ExtResource("2_xfvgf"), ExtResource("3_scu30"), ExtResource("4_h1v7o"), ExtResource("5_anr3s"), ExtResource("6_psyf0"), ExtResource("7_qrwqh"), ExtResource("8_wbxs4"), ExtResource("9_xcgfv"), ExtResource("10_lvrcf"), ExtResource("11_6tfyo")])
